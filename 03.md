 LangGraph, LangChain 등 LLM 기반 AI Agent 실습? + Memory와 상태 관리 전략? + ...


 AI Agent 핵심 요소
AI Agent는 느슨하게 정의된 개방형 목표를 추구하기 위해 자율적으로 행동할 수 있는 AI 시스템입니다. 여기에는 계획을 세우고, '도구'를 사용하고, 실행을 위해 새로운 접근 방식을 동적으로 시도하는 것을 포함합니다. 
자연어 생성 및 이해 능력을 갖춘 LLM은 시스템의 ‘두뇌’ 역할을 합니다. AI가 외부 세계와 통신하거나, 데이터를 얻거나, 특정 작업을 수행해야 하는 경우 '외부 리소스'나 ‘API’를 활용할 수 있습니다. 
신중하게 구성된 질문이나 지시는 '프롬프트'로 제공되어 LLM의 행동과 인지 과정을 지시합니다.[18]

이러한 AI Agent의 토대를 구성하는 핵심 요소를 하나씩 살펴보겠습니다. 첫 번째는 '생각의 사슬(CoT, Chain-of-Thought)'*입니다.
'생각의 사슬 프롬프트(Chain-of-thought prompting)'라는 개념은 2022년 Google Brain 논문에서 소개되었습니다. 
이 논문은 LLM이 복잡한 문제를 더 작은 중간 단계로 나눈 후, 각 단계를 연속적으로 수행하여 전체 문제를 해결할 수 있는 능력이 있음을 증명했습니다. 
생각의 사슬(Chain-of-Thought) 기법은 Agent의 핵심인 LLM의 다단계 추론 및 계획 능력을 크게 향상합니다. 
LLM의 ‘추론(Reasoning)’과 ‘행동(Act)’ 능력의 결합에 대한 연구는 2022년 Google Brain의 'ReAct'로 중요한 개념적 기반을 마련했습니다.[6][16]
* CoT(Chain-of-Thought): 복잡한 문제를 해결하기 위해 LLM이 논리적이고 순차적으로 사고하도록 장려하는 기술. 전통적인 프롬프트 방식과 달리, 모델이 각 단계에서 그 사고 과정을 평가하게 하여 오류가 발생할 경우 대안적인 방법으로 전환할 수 있게 함으로써, 더 정확하고 신뢰할 수 있는 결과 도출을 지원


두 번째는 인간의 직접적인 입력 없이 '도구'와 '메모리'를 사용하여 여러 작업을 연속으로 수행하는 것입니다. 
AI Agent에서 사용하는 '도구'는 프롬프트가 제공될 때 검색되고 사용되는 정보 저장소를 나타냅니다.
여기에는 LLM, 웹 사이트, 데이터베이스, 지식 기반 외부 소스 및 애플리케이션 등이 포함될 수 있습니다.
외부 애플리케이션을 연결하는 '도구 사용'에 대한 연구 노력은 2023년 Meta 연구원들이 발표한 ‘Toolformer’입니다. 
Toolformer 팀은 캘린더 등의 외부 애플리케이션을 활용하기 위해 API 호출하는 방법과 시점을 학습하기 위해 LLM을 미세 조정했습니다. 
Gorilla* 및 Chain-of-Abstraction** 등은 Toolformer의 API 접근 방식을 기반으로 보다 정교한 도구를 제공하여, 향상된 Agent 동작을 가능하게 합니다. 
‘메모리'는 Agent가 과거의 프롬프트와 출력을 통해 얻은 학습된 경험을 말하며, 이를 활용하여 현재 작업에 문맥적으로 더 관련된 응답을 생성할 수 있습니다. 
이러한 도구와 메모리를 결합함으로써 LLM은 설정된 목표를 완료하기 위해 자율적으로 행동할 수 있는 시스템 역할을 수행합니다


AI agent memory refers to AI system’s ability to store and recall past experiences to improve decision-making, perception and overall performance.
AI agents with memory can retain context, recognize patterns over time and adapt based on past interactions. 

예시로, 일반 집 온도계는 단순히 현재 온도를 보고, 난방/냉방을 틀지 말지 결정한다. 하지만, "smart"한 온도계는 학습된 memory를 통해 과거 및 현재의 온도를 분석하여 더 나은 의사결정을 할 수 있다.

one of the biggest challenges in AI memory design is optimizing retrieval efficiency, as storing excessive data can lead to slower response times.

# Types of Agentic memory
- Short-term memory
- Long-term memory
- Episodic memory
- Semantic memory
- Procedural memory


# Reference
https://www.samsungsds.com/kr/insights/integrating-ai-assistants-into-business-workflows-part1.html  
https://www.ibm.com/think/topics/ai-agent-memory  
https://langchain-ai.github.io/langgraph/tutorials/get-started/3-add-memory/#5-inspect-the-state  
https://langchain-ai.github.io/langgraph/tutorials/get-started/3-add-memory/  
